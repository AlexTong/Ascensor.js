(function(a,c){function q(c,i){this.element=c;this.options=a.extend({},r,i);this._defaults=r;this._name=j;this.init()}var j="ascensor",r={ChildType:"div",WindowsOn:1,Direction:"y",floorXY:"",AscensorName:"ascensor",AscensorFloorName:"",Time:"1000",Easing:"linear",KeyNavigation:!0};q.prototype.init=function(){function t(){h=a(c).width();m=a(c).height();a(s).width(h).height(m);a(k).width(h).height(m);"y"===l&&a(k).stop().scrollTop((g-1)*m);"x"===l&&(a(k).stop().scrollLeft((g-1)*h),a(s).css("position",
"absolute").each(function(b){a(this).css("left",b*h)}));if("chocolate"===l){var b=p[g-1].split("|");a(s).each(function(b){b=p[b].split("|");a(this).css({position:"absolute",left:(b[1]-1)*h,top:(b[0]-1)*m})});a(k).stop().scrollLeft((b[1]-1)*h).scrollTop((b[0]-1)*m)}}function i(d,e){"y"===l&&a(k).stop().animate({scrollTop:(d-1)*a(c).height()},e,b.options.Easing);"x"===l&&a(k).stop().animate({scrollLeft:(d-1)*a(c).width()},e,b.options.Easing);if("chocolate"===l){var f=p[d-1].split("|");a(k).stop().animate({scrollLeft:(f[1]-
1)*a(c).width(),scrollTop:(f[0]-1)*a(c).height()},e,b.options.Easing)}null!==b.options.AscensorFloorName&&(c.location.hash="/"+u[d-1]);a("."+b.options.AscensorName+"Link").removeClass(b.options.AscensorName+"LinkActive");a("."+b.options.AscensorName+"Link"+d).addClass(b.options.AscensorName+"LinkActive");g=d}function j(d,c){"y"===l&&(1===d&&0===c&&(e=g+1,(e<n||e===n)&&i(e,b.options.Time)),-1===d&&0===c&&(f=g-1,(1<f||1===f)&&i(f,b.options.Time)));"x"===l&&(0===d&&-1===c&&(f=g-1,(1<f||1===f)&&i(f,b.options.Time)),
0===d&&1===c&&(e=g+1,(e<n||e===n)&&i(e,b.options.Time)));if("chocolate"===l){var h=p[g-1].split("|");a.each(p,function(a){p[a]===parseInt(h[0],10)+d+"|"+(parseInt(h[1],10)+c)&&i(a+1,b.options.Time)})}}function q(a){switch(a.keyCode){case 40:j(1,0);break;case 38:j(-1,0);break;case 37:j(0,-1);break;case 39:j(0,1)}}var b=this,k=this.element,s=a(k).children(b.options.ChildType),g=b.options.WindowsOn,n=0,h=a(c).width(),m=a(c).height(),p=b.options.AscensorMap.split(" & "),u=b.options.AscensorFloorName.split(" | "),
l=b.options.Direction,r=c.location.hash.split("/").pop(),f,e;null!==b.options.AscensorFloorName&&a(u).each(function(d){r===u[d]&&(g=d+1,a("."+b.options.AscensorName+"Link").eq(g-1).addClass(b.options.AscensorName+"LinkActive"))});a(k).css("position","absolute").width(h).height(m);a(s).width(h).height(m).each(function(){n++;a(this).attr("id",b.options.AscensorName+"Floor"+n).addClass(b.options.AscensorName+"Floor")});a("."+b.options.AscensorName+"Link").on("click",function(){var d=a(this).attr("class"),
d=d.split(" "),d=d[1],d=d.split(b.options.AscensorName+"Link"),d=parseInt(d[1],10);i(d,b.options.Time)});a("."+b.options.AscensorName+"LinkPrev").on("click",function(){f=g-1;1>f&&(f=n);i(f,b.options.Time)});a("."+b.options.AscensorName+"LinkNext").on("click",function(){e=g+1;e>n&&(e=1);i(e,b.options.Time)});b.options.KeyNavigation&&(a.browser.mozilla?a(document).keypress(q):a(document).keydown(q));if(/android.+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|meego.+mobile|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(navigator.userAgent)){var w=
0,v=function(){c.orientation!==w&&(w=c.orientation,t())};c.addEventListener("resize",v,!1);c.addEventListener("orientationchange",v,!1);setInterval(v,200)}a(c).resize(function(){t()}).resize();t()};a.fn[j]=function(c){return this.each(function(){a.data(this,"plugin_"+j)||a.data(this,"plugin_"+j,new q(this,c))})}})(jQuery,window);