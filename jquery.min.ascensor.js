/*		JQUERY.ASCENSOR.JS   |   VERSION: 1.5.3   |   DATE: 21/10/2012   	*/
(function(b,h){function r(h,s){this.element=h;this.options=b.extend({},t,s);this._defaults=t;this._name=p;this.init()}var p="ascensor",t={AscensorName:"ascensor",AscensorFloorName:"",ChildType:"div",WindowsOn:1,Direction:"y",AscensorMap:"",Time:"1000",Easing:"linear",KeyNavigation:!0,Queued:!1,QueuedDirection:"x"};r.prototype.init=function(){function p(){h.location.hash&&(t=h.location.hash.split("/").pop(),b(w).each(function(f){t===w[f]&&(c=f+1,b("."+a.options.AscensorName+"Link").removeClass(a.options.AscensorName+
"LinkActive").eq(c-1).addClass(a.options.AscensorName+"LinkActive"),k(c,a.options.Time))}))}function s(){e=b(h).width();g=b(h).height();b(u).width(e).height(g);b(d).width(e).height(g);"y"===j&&b(d).stop().scrollTop((c-1)*g);"x"===j&&(b(d).stop().scrollLeft((c-1)*e),b(u).each(function(a){b(this).css("left",a*e)}));if("chocolate"===j){var a=q[c-1].split("|");b(u).each(function(a){a=q[a].split("|");b(this).css({left:(a[1]-1)*e,top:(a[0]-1)*g})});b(d).stop().scrollLeft((a[1]-1)*e).scrollTop((a[0]-1)*
g)}}function k(f,m){"y"===j&&b(d).stop().animate({scrollTop:(f-1)*g},m,a.options.Easing);"x"===j&&b(d).stop().animate({scrollLeft:(f-1)*e},m,a.options.Easing);if("chocolate"===j){var l=q[f-1].split("|");a.options.Queued?"x"===a.options.QueuedDirection?b(d).scrollLeft()===(l[1]-1)*e?b(d).stop().animate({scrollTop:(l[0]-1)*g},m,a.options.Easing):b(d).stop().animate({scrollLeft:(l[1]-1)*e},m,a.options.Easing,function(){b(d).stop().animate({scrollTop:(l[0]-1)*g},m,a.options.Easing)}):"y"===a.options.QueuedDirection&&
(b(d).scrollTop()===(l[0]-1)*g?b(d).stop().animate({scrollLeft:(l[1]-1)*e},m,a.options.Easing):b(d).stop().animate({scrollTop:(l[0]-1)*g},m,a.options.Easing,function(){b(d).stop().animate({scrollLeft:(l[1]-1)*e},m,a.options.Easing)})):b(d).stop().animate({scrollLeft:(l[1]-1)*e,scrollTop:(l[0]-1)*g},m,a.options.Easing)}null!==a.options.AscensorFloorName&&(h.location.hash="/"+w[f-1]);b("."+a.options.AscensorName+"Link").removeClass(a.options.AscensorName+"LinkActive");b("."+a.options.AscensorName+"Link"+
f).addClass(a.options.AscensorName+"LinkActive");c=f}function v(f,d){if(!b("input, textarea").is(":focus")&&("y"===j&&(1===f&&0===d&&(c+1<n||c+1===n)&&k(c+1,a.options.Time),-1===f&&0===d&&(1<c-1||1===c-1)&&k(c-1,a.options.Time)),"x"===j&&(0===f&&-1===d&&(1<c-1||1===c-1)&&k(c-1,a.options.Time),0===f&&1===d&&(c+1<n||c+1===n)&&k(c+1,a.options.Time)),"chocolate"===j)){var e=q[c-1].split("|");b.each(q,function(b){q[b]===parseInt(e[0],10)+f+"|"+(parseInt(e[1],10)+d)&&k(b+1,a.options.Time)})}}function r(a){switch(a.keyCode){case 40:v(1,
0);break;case 38:v(-1,0);break;case 37:v(0,-1);break;case 39:v(0,1)}}var a=this,d=this.element,u=b(d).children(a.options.ChildType),c=a.options.WindowsOn,n=0,e,g,q=a.options.AscensorMap.split(" & "),w=a.options.AscensorFloorName.split(" | "),j=a.options.Direction,t;b(d).css("position","absolute").width(e).height(g);b(u).width(e).height(g).each(function(){n++;b(this).attr("id",a.options.AscensorName+"Floor"+n).addClass(a.options.AscensorName+"Floor")});("x"===j||"chocolate"===j)&&b(u).css("position",
"absolute");b(h).on("hashchange",function(){p()});p();b(h).resize(function(){s()}).load(function(){s()}).resize();h.DeviceOrientationEvent&&b(h).bind("orientationchange",function(){s()});k(c,1);a.options.KeyNavigation&&(b.browser.mozilla?b(document).keypress(r):b(document).keydown(r));b("."+a.options.AscensorName+"Link").on("click",function(){var c=b(this).attr("class"),c=c.split(" "),c=c[1],c=c.split(a.options.AscensorName+"Link"),c=parseInt(c[1],10);k(c,a.options.Time)});b("."+a.options.AscensorName+
"LinkPrev").on("click",function(){c-=1;1>c&&(c=n);k(c,a.options.Time)});b("."+a.options.AscensorName+"LinkNext").on("click",function(){c+=1;c>n&&(c=1);k(c,a.options.Time)})};b.fn[p]=function(h){return this.each(function(){b.data(this,"plugin_"+p)||b.data(this,"plugin_"+p,new r(this,h))})}})(jQuery,window);