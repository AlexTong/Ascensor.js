(function(c){c.fn.ascensor=function(a){function n(){var b=c(window).width(),e=c(window).height();f.height(e).width(b);i.each(function(){c(this).height(e).width(b)});if("chocolate"==a.Direction){var d=m[g-1].split("|");f.stop().scrollTop((d[0]-1)*e).scrollLeft((d[1]-1)*b)}"y"==a.Direction&&f.stop().scrollTop((g-1)*e);"x"==a.Direction&&f.stop().scrollLeft((g-1)*b);"chocolate"==a.Direction&&i.each(function(a){a=m[a].split("|");c(this).css({position:"absolute",left:(a[1]-1)*b,top:(a[0]-1)*e})});"x"==
a.Direction&&(i.css("position","absolute"),i.each(function(a){c(this).css("left",a*b)}))}function h(b,e){"y"==a.Direction&&f.stop().animate({scrollTop:(b-1)*c(window).height()},e,a.Easing);"x"==a.Direction&&f.stop().animate({scrollLeft:(b-1)*c(window).width()},e,a.Easing);if("chocolate"==a.Direction){var d=m[b-1].split("|");f.stop().animate({scrollLeft:(d[1]-1)*c(window).width(),scrollTop:(d[0]-1)*c(window).height()},e,a.Easing)}g=b;""!=a.AscensorFloorName&&(d=a.AscensorFloorName.split(" | "),d=d[g-
1],window.location.href="#/"+d);p.removeClass(a.AscensorName+"LinkActive");c("."+a.AscensorName+"Link"+b).addClass(a.AscensorName+"LinkActive")}function q(a){switch(a.keyCode){case 40:return l(1,0),!1;case 38:return l(-1,0),!1;case 37:return l(0,-1),!1;case 39:return l(0,1),!1}}function l(b,e){if("y"==a.Direction){if(1==b&&0==e){var d=g+1;d>j||h(d,a.Time)}-1==b&&0==e&&(d=g-1,1>d||h(d,a.Time))}"x"==a.Direction&&(0==b&&-1==e&&(d=g-1,1>d||h(d,a.Time)),0==b&&1==e&&(d=g+1,d>j||h(d,a.Time)));if("chocolate"==
a.Direction){var d=a.AscensorMap.split(" & "),d=d[g-1].split("|"),f=parseInt(d[0])+b+"|"+(parseInt(d[1])+e),i=a.AscensorMap.split(" & ");c.each(i,function(b){i[b]===f&&h(b+1,a.Time)})}}var a=c.extend({ChildType:"div",WindowsOn:1,Direction:"y",AscensorMap:"",AscensorName:"ascensor",AscensorFloorName:"",Time:1E3,Easing:"linear",KeyNavigation:!0},a),f=c(this),i=f.children(a.ChildType),p=c("."+a.AscensorName+"Link"),k=c("."+a.AscensorName+"LinkPrev"),v=c("."+a.AscensorName+"LinkNext"),j=0,r=c(window).height(),
s=c(window).width(),g=a.WindowsOn;f.width(s);f.height(r);f.css("position","absolute");if(""!=a.AscensorFloorName.split){var w=window.location.href.split("/").pop(),t=a.AscensorFloorName.split(" | ");c.each(t,function(a){t[a]===w&&(g=a+1)})}i.each(function(){j++;c(this).attr("id",a.AscensorName+"Floor"+j).height(r).width(s).addClass(a.AscensorName+"Floor")});var m=a.AscensorMap.split(" & ");p.click(function(){var b=c(this).attr("class"),b=b.split(" "),b=b[1],b=b.split(a.AscensorName+"Link"),b=parseInt(b[1]);
h(b,a.Time)});k.click(function(){var b=g-1;1>b&&(b=j);h(b,a.Time)});v.click(function(){var b=g+1;b>j&&(b=1);h(b,a.Time)});var u=0,k=function(){window.orientation!==u&&(u=window.orientation,n())};window.addEventListener("resize",k,!1);window.addEventListener("orientationchange",k,!1);setInterval(k,1);a.KeyNavigation&&(c.browser.mozilla?c(document).keypress(q):c(document).keydown(q));c(window).resize(function(){n()}).resize();h(a.WindowsOn)}})(jQuery);