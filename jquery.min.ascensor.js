(function(b,g){function q(g,i){this.element=g;this.options=b.extend({},r,i);this._defaults=r;this._name=k;this.init()}var k="ascensor",r={ChildType:"div",WindowsOn:1,Direction:"y",AscensorMap:"",AscensorName:"ascensor",AscensorFloorName:"",Time:"1000",Easing:"linear",KeyNavigation:!0,Queued:!1,QueuedDirection:"x"};q.prototype.init=function(){function u(){e=b(g).width();h=b(g).height();b(t).width(e).height(h);b(d).width(e).height(h);"y"===l&&b(d).stop().scrollTop((c-1)*h);"x"===l&&(b(d).stop().scrollLeft((c-
1)*e),b(t).css("position","absolute").each(function(a){b(this).css("left",a*e)}));if("chocolate"===l){var a=p[c-1].split("|");b(t).each(function(a){a=p[a].split("|");b(this).css({position:"absolute",left:(a[1]-1)*e,top:(a[0]-1)*h})});b(d).stop().scrollLeft((a[1]-1)*e).scrollTop((a[0]-1)*h)}}function i(f,m){"y"===l&&b(d).stop().animate({scrollTop:(f-1)*h},m,a.options.Easing);"x"===l&&b(d).stop().animate({scrollLeft:(f-1)*e},m,a.options.Easing);if("chocolate"===l){var j=p[f-1].split("|");p[c-1].split("|");
a.options.Queued?"x"===a.options.QueuedDirection?b(d).scrollLeft()===(j[1]-1)*e?b(d).stop().animate({scrollTop:(j[0]-1)*h},m,a.options.Easing):b(d).stop().animate({scrollLeft:(j[1]-1)*e},m,a.options.Easing,function(){b(d).stop().animate({scrollTop:(j[0]-1)*h},m,a.options.Easing)}):"y"===a.options.QueuedDirection&&(b(d).scrollTop()===(j[0]-1)*h?b(d).stop().animate({scrollLeft:(j[1]-1)*e},m,a.options.Easing):b(d).stop().animate({scrollTop:(j[0]-1)*h},m,a.options.Easing,function(){b(d).stop().animate({scrollLeft:(j[1]-
1)*e},m,a.options.Easing)})):b(d).stop().animate({scrollLeft:(j[1]-1)*e,scrollTop:(j[0]-1)*h},m,a.options.Easing)}null!==a.options.AscensorFloorName&&(g.location.hash="/"+s[f-1]);b("."+a.options.AscensorName+"Link").removeClass(a.options.AscensorName+"LinkActive");b("."+a.options.AscensorName+"Link"+f).addClass(a.options.AscensorName+"LinkActive");c=f}function k(f,d){"y"===l&&(1===f&&0===d&&(c+1<n||c+1===n)&&i(c+1,a.options.Time),-1===f&&0===d&&(1<c-1||1===c-1)&&i(c-1,a.options.Time));"x"===l&&(0===
f&&-1===d&&(1<c-1||1===c-1)&&i(c-1,a.options.Time),0===f&&1===d&&(c+1<n||c+1===n)&&i(c+1,a.options.Time));if("chocolate"===l){var e=p[c-1].split("|");b.each(p,function(b){p[b]===parseInt(e[0],10)+f+"|"+(parseInt(e[1],10)+d)&&i(b+1,a.options.Time)})}}function q(a){switch(a.keyCode){case 40:k(1,0);break;case 38:k(-1,0);break;case 37:k(0,-1);break;case 39:k(0,1)}}var a=this,d=this.element,t=b(d).children(a.options.ChildType),c=a.options.WindowsOn,n=0,e,h,p=a.options.AscensorMap.split(" & "),s=a.options.AscensorFloorName.split(" | "),
l=a.options.Direction,v=g.location.hash.split("/").pop();null!==a.options.AscensorFloorName&&b(s).each(function(f){v===s[f]&&(c=f+1,b("."+a.options.AscensorName+"Link").eq(c-1).addClass(a.options.AscensorName+"LinkActive"))});b(g).on("hashchange",function(){null!==a.options.AscensorFloorName&&(v=g.location.hash.split("/").pop(),b(s).each(function(f){v===s[f]&&(c=f+1,b("."+a.options.AscensorName+"Link").eq(c-1).addClass(a.options.AscensorName+"LinkActive"),i(c,a.options.Time))}))});b(d).css("position",
"absolute").width(e).height(h);b(t).width(e).height(h).each(function(){n++;b(this).attr("id",a.options.AscensorName+"Floor"+n).addClass(a.options.AscensorName+"Floor")});b("."+a.options.AscensorName+"Link").on("click",function(){var c=b(this).attr("class"),c=c.split(" "),c=c[1],c=c.split(a.options.AscensorName+"Link"),c=parseInt(c[1],10);i(c,a.options.Time)});b("."+a.options.AscensorName+"LinkPrev").on("click",function(){1>c-1&&(c=n);i(c,a.options.Time)});b("."+a.options.AscensorName+"LinkNext").on("click",
function(){c+1>n&&(c=1);i(c,a.options.Time)});a.options.KeyNavigation&&(b.browser.mozilla?b(document).keypress(q):b(document).keydown(q));if(/android.+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|meego.+mobile|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(navigator.userAgent)){var r=0,w=function(){g.orientation!==
r&&(r=g.orientation,u())};g.addEventListener("resize",w,!1);g.addEventListener("orientationchange",w,!1);setInterval(w,200)}b(g).resize(function(){u()}).resize();u();i(c,1)};b.fn[k]=function(g){return this.each(function(){b.data(this,"plugin_"+k)||b.data(this,"plugin_"+k,new q(this,g))})}})(jQuery,window);