(function(c){c.fn.ascensor=function(a){function l(){h=c(window).height();i=c(window).width();c(e).children(a.ChildType).each(function(){c(this).height(h).width(i)});c(e).width(i);c(e).height(h);"x"==a.Direction&&(c(e).children().css("position","absolute"),c(e).children().each(function(a){c(this).css("left",a*i)}));if("chocolate"==a.Direction){var b=a.AscensorMap.split(" & ");c(e).children(a.ChildType).each(function(a){a=b[a].split("|");c(this).css("position","absolute").css("left",(a[1]-1)*i).css("top",
(a[0]-1)*h)})}f(g,1)}function f(b,f){"y"==a.Direction&&c(e).stop().animate({scrollTop:(b-1)*h},f,a.Easing);"x"==a.Direction&&c(e).stop().animate({scrollLeft:(b-1)*i},f,a.Easing);if("chocolate"==a.Direction){var d=a.AscensorMap.split(" & ")[b-1].split("|");c(e).stop().animate({scrollLeft:(d[1]-1)*i,scrollTop:(d[0]-1)*h},f,a.Easing)}g=b;""!=a.AscensorFloorName&&(d=a.AscensorFloorName.split(" | "),d=d[g-1],window.location.href="#/"+d);c("."+a.AscensorName+"Link").removeClass(a.AscensorName+"LinkActive");
c("."+a.AscensorName+"Link"+b).addClass(a.AscensorName+"LinkActive")}function n(a){switch(a.keyCode){case 40:return k(1,0),!1;case 38:return k(-1,0),!1;case 37:return k(0,-1),!1;case 39:return k(0,1),!1}}function k(b,e){if("y"==a.Direction){if(1==b&&0==e){var d=g+1;d>j||f(d,a.Time)}-1==b&&0==e&&(d=g-1,1>d||f(d,a.Time))}if("x"==a.Direction&&(0==b&&-1==e&&(d=g-1,1>d||f(d,a.Time)),0==b&&1==e))d=g+1,d>j||f(d,a.Time);if("chocolate"==a.Direction){var d=a.AscensorMap.split(" & "),d=d[g-1].split("|"),i=parseInt(d[0])+
b+"|"+(parseInt(d[1])+e),h=a.AscensorMap.split(" & ");c.each(h,function(b){h[b]===i&&f(b+1,a.Time)})}}var a=c.extend({ChildType:"div",WindowsOn:1,Direction:"y",AscensorMap:"",AscensorName:"ascensor",AscensorFloorName:"",Time:1E3,Easing:"linear"},a),e=this,j=0,h=c(window).height(),i=c(window).width(),g=a.WindowsOn;e.width(i);e.height(h);e.css("position","absolute");if(""!=a.AscensorFloorName.split){var q=window.location.href.split("/").pop(),o=a.AscensorFloorName.split(" | ");c.each(o,function(a){o[a]===
q&&(g=a+1)})}e.children(a.ChildType).each(function(){j++;c(this).attr("id",a.AscensorName+"Floor"+j).height(h).width(i).addClass(a.AscensorName+"Floor")});c(window).resize(function(){l()});c("."+a.AscensorName+"Link").click(function(){var b=c(this).attr("class"),b=b.split(" "),b=b[1],b=b.split(a.AscensorName+"Link"),b=parseInt(b[1]);f(b,a.Time)});c("."+a.AscensorName+"LinkPrev").click(function(){var b=g-1;1>b&&(b=j);f(b,a.Time)});c("."+a.AscensorName+"LinkNext").click(function(){var b=g+1;b>j&&(b=
1);f(b,a.Time)});var p=0,m=function(){window.orientation!==p&&(p=window.orientation,l())};window.addEventListener("resize",m,!1);window.addEventListener("orientationchange",m,!1);setInterval(m,1);c.browser.mozilla?c(document).keypress(n):c(document).keydown(n);f(g,1);l()}})(jQuery);